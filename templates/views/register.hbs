<!DOCTYPE html>
<html lang="en">
<head>
    {{>meta}}
</head>
<body>
    {{>nav}}
    <div class="register-page container">
        <div class="register box1">
            <img src="./images/img1.svg" alt="Registration illustration">
        </div>
        <div class="register box2">
            <form action="/register" method="POST" novalidate>
                
                {{#if error}}
                    <p class="error-message" id="error-message">{{error}}</p>
                {{/if}}
                
                <div class="field">
                    <label for="name"><span>name</span></label>
                    <input type="text" name="name" id="name" placeholder="Enter your name" value="{{formData.name}}">
                </div>
                <div class="field">
                    <label for="email"><span>Email</span></label>
                    <input type="text" id="email" placeholder="Enter your email" name="email" value="{{formData.email}}">
                </div>
                <div class="field">
                    <label for="Phone"><span>Phone number</span></label>
                    <input type="number" id="Phone" placeholder="Enter your phone number" name="phone" value="{{formData.phone}}">
                </div>
                <div class="field password-field">
                    <label for="password"><span>Password</span></label>
                    <input type="password" id="password" placeholder="Enter your password" name="password">
                    <i class="fa-solid fa-eye toggle-password" data-target="password"></i>
                    </div>
                <div class="field password-field">
                    <label for="cpassword"><span>Confirm Password</span></label>
                    <input type="password" id="cpassword" placeholder="Enter your confirm password" name="cpassword">
                    <i class="fa-solid fa-eye toggle-password" data-target="cpassword"></i>
                </div>     
                <button type="submit" class="btn-modern btn-register">
                    <i class="fa-solid fa-user-plus"></i>
                    <span>Register Me</span>
                </button>
            </form>
        </div>
    </div>
    <script>
        // Hide error on input
        const errorMessage = document.getElementById('error-message');
        if (errorMessage) {
            const formInputs = document.querySelectorAll('.register.box2 input');
            formInputs.forEach(input => {
                input.addEventListener('input', () => {
                    errorMessage.style.display = 'none';
                });
            });
        }
         // Toggle password visibility
        const toggleIcons = document.querySelectorAll('.toggle-password');
        toggleIcons.forEach(icon => {
          icon.addEventListener('click', () => {
            const targetId = icon.getAttribute('data-target');
            const input = document.getElementById(targetId);
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
               }
           });
        });
    </script>
</body>
</html>